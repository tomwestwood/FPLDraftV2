{"ast":null,"code":"import { FPLBase } from '../models/fpl';\nimport { Draft, DraftManagerPick, DraftStatuses, SealedBid } from '../models/draft';\nimport { DraftControllerService } from './services/draft-controller.service';\nimport { MatDialog } from '@angular/material/dialog';\nimport { DraftNextManagerDialogComponent } from './dialogs/draft-next-manager-dialog/draft-next-manager-dialog.component';\nimport { DraftNewManagerDialogComponent } from './dialogs/draft-new-manager-dialog/draft-new-manager-dialog.component';\nimport { DraftFinalChanceDialogComponent } from './dialogs/draft-final-chance-dialog/draft-final-chance-dialog.component';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"./services/draft-controller.service\";\nimport * as i2 from \"@angular/material/dialog\";\nimport * as i3 from \"@angular/common\";\nimport * as i4 from \"@angular/material/progress-bar\";\nimport * as i5 from \"./draft-header/draft-header.component\";\nimport * as i6 from \"./draft-selecting/draft-selecting.component\";\n\nfunction DraftComponent_div_0_draft_header_component_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"draft-header-component\", 5);\n  }\n\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext(2);\n    i0.ɵɵproperty(\"draft\", ctx_r1.draft);\n  }\n}\n\nfunction DraftComponent_div_0_draft_selecting_component_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"draft-selecting-component\", 6);\n  }\n\n  if (rf & 2) {\n    const ctx_r2 = i0.ɵɵnextContext(2);\n    i0.ɵɵproperty(\"draft\", ctx_r2.draft)(\"fplBase\", ctx_r2.fplBase);\n  }\n}\n\nfunction DraftComponent_div_0_div_3_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵtext(1, \"Awaiting sealed bids\");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction DraftComponent_div_0_div_3_div_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵtext(1, \"Checking bids\");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction DraftComponent_div_0_div_3_div_3_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵtext(1, \"Bids received\");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction DraftComponent_div_0_div_3_div_4_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵtext(1, \"Final chance\");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction DraftComponent_div_0_div_3_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 7);\n    i0.ɵɵtemplate(1, DraftComponent_div_0_div_3_div_1_Template, 2, 0, \"div\", 8);\n    i0.ɵɵtemplate(2, DraftComponent_div_0_div_3_div_2_Template, 2, 0, \"div\", 8);\n    i0.ɵɵtemplate(3, DraftComponent_div_0_div_3_div_3_Template, 2, 0, \"div\", 8);\n    i0.ɵɵtemplate(4, DraftComponent_div_0_div_3_div_4_Template, 2, 0, \"div\", 8);\n    i0.ɵɵelement(5, \"mat-progress-bar\", 9);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r3 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r3.draft.status_id == 7);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r3.draft.status_id == 8);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r3.draft.status_id == 9);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r3.draft.status_id == 10);\n  }\n}\n\nfunction DraftComponent_div_0_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 1);\n    i0.ɵɵtemplate(1, DraftComponent_div_0_draft_header_component_1_Template, 1, 1, \"draft-header-component\", 2);\n    i0.ɵɵtemplate(2, DraftComponent_div_0_draft_selecting_component_2_Template, 1, 2, \"draft-selecting-component\", 3);\n    i0.ɵɵtemplate(3, DraftComponent_div_0_div_3_Template, 6, 4, \"div\", 4);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r0.isLatop || ctx_r0.draft.status_id != 4);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r0.draft.status_id == 4 && ctx_r0.fplBase);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r0.draft.status_id == 7 || ctx_r0.draft.status_id == 8 || ctx_r0.draft.status_id == 9);\n  }\n}\n\nexport let DraftComponent = /*#__PURE__*/(() => {\n  class DraftComponent {\n    constructor(draftControllerService, dialog) {\n      this.draftControllerService = draftControllerService;\n      this.dialog = dialog;\n      this.onLaptop = false;\n      this.draftId = 15;\n      this.isDraftAuction = true;\n      draftControllerService.getDraft(this.draftId);\n    }\n\n    ngOnInit() {\n      this.draftControllerService.fplBase.subscribe(fplBase => {\n        this.fplBase = fplBase;\n      });\n      this.draftControllerService.draft.subscribe(draft => {\n        if (draft) {\n          this.draft = draft;\n\n          if (draft.status_id == DraftStatuses.Waiting) {\n            setTimeout(() => {\n              this.dialog.open(DraftNewManagerDialogComponent, {\n                disableClose: true\n              });\n            }, 1000);\n          }\n\n          if (draft.status_id == DraftStatuses.FinalChance) {\n            this.current_pick = this.draftControllerService.getCurrentPick();\n            setTimeout(() => {\n              this.dialog.open(DraftFinalChanceDialogComponent, {\n                disableClose: true\n              });\n            }, 1000);\n          }\n\n          if (draft.status_id == DraftStatuses.Timeout || draft.status_id == DraftStatuses.SigningComplete) {\n            setTimeout(() => {\n              this.dialog.open(DraftNextManagerDialogComponent, {\n                disableClose: true\n              });\n            }, 1000);\n          }\n        }\n      });\n      this.draftControllerService.pick.subscribe(pick => {\n        if (pick) {\n          this.pick.next(pick);\n        }\n      });\n    }\n\n    getMaxBid(dmp) {\n      return this.draftControllerService.getMaxBid(dmp);\n    }\n\n    getMaxBidAmount(dmp) {\n      return this.draftControllerService.getMaxBidAmount(dmp);\n    }\n\n  }\n\n  DraftComponent.ɵfac = function DraftComponent_Factory(t) {\n    return new (t || DraftComponent)(i0.ɵɵdirectiveInject(i1.DraftControllerService), i0.ɵɵdirectiveInject(i2.MatDialog));\n  };\n\n  DraftComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: DraftComponent,\n    selectors: [[\"app-draft-component\"]],\n    decls: 1,\n    vars: 1,\n    consts: [[\"class\", \"draft\", 4, \"ngIf\"], [1, \"draft\"], [3, \"draft\", 4, \"ngIf\"], [3, \"draft\", \"fplBase\", 4, \"ngIf\"], [\"class\", \"basic-content\", 4, \"ngIf\"], [3, \"draft\"], [3, \"draft\", \"fplBase\"], [1, \"basic-content\"], [4, \"ngIf\"], [\"mode\", \"indeterminate\", 1, \"basic-progress-bar\"]],\n    template: function DraftComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵtemplate(0, DraftComponent_div_0_Template, 4, 3, \"div\", 0);\n      }\n\n      if (rf & 2) {\n        i0.ɵɵproperty(\"ngIf\", ctx.draft && ctx.fplBase);\n      }\n    },\n    dependencies: [i3.NgIf, i4.MatProgressBar, i5.DraftHeaderComponent, i6.DraftSelectingComponent],\n    styles: [\".draft[_ngcontent-%COMP%]{display:flex;flex-direction:row}.draft[_ngcontent-%COMP%]   draft-selecting-component[_ngcontent-%COMP%]{flex-grow:1}.draft[_ngcontent-%COMP%]   .basic-content[_ngcontent-%COMP%]{width:100%;height:100%;align-self:center;text-align:center}.pre-draft-container[_ngcontent-%COMP%]{display:flex}.pre-draft-container[_ngcontent-%COMP%]   .team-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-self:flex-start}.pre-draft-container[_ngcontent-%COMP%]   .team-container[_ngcontent-%COMP%]   .team-info-container[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;margin:4px;font-size:large;text-align:center}.pre-draft-container[_ngcontent-%COMP%]   .team-container[_ngcontent-%COMP%]   .team-info-container[_ngcontent-%COMP%]   .team-logo[_ngcontent-%COMP%]{height:50px;width:50px;margin-right:16px}.pre-draft-container[_ngcontent-%COMP%]   .team-container[_ngcontent-%COMP%]   .team-info-container[_ngcontent-%COMP%]   .team-info[_ngcontent-%COMP%]{display:flex;flex-direction:row}.pre-draft-container[_ngcontent-%COMP%]   .team-container[_ngcontent-%COMP%]   .divider[_ngcontent-%COMP%]{position:inherit;margin:4px}.pre-draft-container[_ngcontent-%COMP%]   .team-container[_ngcontent-%COMP%]   .info-row[_ngcontent-%COMP%]{display:flex;margin:2px;align-items:center}.pre-draft-container[_ngcontent-%COMP%]   .team-container[_ngcontent-%COMP%]   .info-row[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{color:#00fa9a;margin-right:8px}.pre-draft-container[_ngcontent-%COMP%]   .team-container[_ngcontent-%COMP%]   .info-row[_ngcontent-%COMP%]   .divider[_ngcontent-%COMP%]{flex-grow:1}.pre-draft-container[_ngcontent-%COMP%]   .squad-list[_ngcontent-%COMP%]{-webkit-padding-start:8px;padding-inline-start:8px;flex-grow:1}.pre-draft-container[_ngcontent-%COMP%]   .squad-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{display:block;-webkit-animation:fadeIn .5s linear;animation:fadeIn .5s linear;-webkit-animation-fill-mode:both;animation-fill-mode:both}.pre-draft-container[_ngcontent-%COMP%]   .squad-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:nth-child(1){-webkit-animation-delay:.1s;animation-delay:.1s}.pre-draft-container[_ngcontent-%COMP%]   .squad-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:nth-child(2){-webkit-animation-delay:.2s;animation-delay:.2s}.pre-draft-container[_ngcontent-%COMP%]   .squad-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:nth-child(3){-webkit-animation-delay:.3s;animation-delay:.3s}.pre-draft-container[_ngcontent-%COMP%]   .squad-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:nth-child(4){-webkit-animation-delay:.4s;animation-delay:.4s}.pre-draft-container[_ngcontent-%COMP%]   .squad-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:nth-child(5){-webkit-animation-delay:.5s;animation-delay:.5s}.pre-draft-container[_ngcontent-%COMP%]   .squad-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:nth-child(6){-webkit-animation-delay:.6s;animation-delay:.6s}.pre-draft-container[_ngcontent-%COMP%]   .squad-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:nth-child(7){-webkit-animation-delay:.7s;animation-delay:.7s}.pre-draft-container[_ngcontent-%COMP%]   .squad-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:nth-child(8){-webkit-animation-delay:.8s;animation-delay:.8s}.pre-draft-container[_ngcontent-%COMP%]   .squad-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:nth-child(9){-webkit-animation-delay:.9s;animation-delay:.9s}.pre-draft-container[_ngcontent-%COMP%]   .squad-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:nth-child(10){-webkit-animation-delay:1s;animation-delay:1s}.pre-draft-container[_ngcontent-%COMP%]   .squad-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:nth-child(11){-webkit-animation-delay:1.1s;animation-delay:1.1s}.pre-draft-container[_ngcontent-%COMP%]   .squad-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:nth-child(12){-webkit-animation-delay:1.2s;animation-delay:1.2s}.pre-draft-container[_ngcontent-%COMP%]   .squad-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:nth-child(13){-webkit-animation-delay:1.3s;animation-delay:1.3s}.pre-draft-container[_ngcontent-%COMP%]   .squad-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:nth-child(14){-webkit-animation-delay:1.4s;animation-delay:1.4s}.pre-draft-container[_ngcontent-%COMP%]   .squad-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:nth-child(15){-webkit-animation-delay:1.5s;animation-delay:1.5s}@-webkit-keyframes fadeIn{0%{opacity:0;top:100px}75%{opacity:.5;top:0px}to{opacity:1}}.basic-progress-bar[_ngcontent-%COMP%]{width:200px;display:inline-flex}\"]\n  });\n  return DraftComponent;\n})();","map":null,"metadata":{},"sourceType":"module"}