{"ast":null,"code":"import { trigger, transition, style, animate, state } from '@angular/animations';\nimport { Draft, DraftManager, DraftManagerPick, DraftStatuses } from '../../../models/draft';\nimport { DraftControllerService } from '../../../draft/services/draft-controller.service';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../../../draft/services/draft-controller.service\";\nimport * as i2 from \"@angular/common\";\nimport * as i3 from \"@angular/material/divider\";\nimport * as i4 from \"@angular/material/progress-spinner\";\n\nfunction TerminalNominationProgressComponent_mat_divider_16_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"mat-divider\", 7);\n  }\n\n  if (rf & 2) {\n    i0.ɵɵproperty(\"vertical\", true);\n  }\n}\n\nfunction TerminalNominationProgressComponent_div_17_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 8)(1, \"div\", 9)(2, \"div\", 10);\n    i0.ɵɵelement(3, \"mat-progress-spinner\", 11);\n    i0.ɵɵelementStart(4, \"div\", 12);\n    i0.ɵɵtext(5);\n    i0.ɵɵelementEnd()()()();\n  }\n\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"diameter\", 80)(\"value\", ctx_r1.draft.status_id == 7 ? ctx_r1.timer / 10 * 100 : 100);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(ctx_r1.timer);\n  }\n}\n\nfunction TerminalNominationProgressComponent_div_18_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 8)(1, \"div\", 9)(2, \"div\", 10);\n    i0.ɵɵelement(3, \"mat-spinner\", 13);\n    i0.ɵɵelementStart(4, \"span\", 14);\n    i0.ɵɵtext(5, \"savings\");\n    i0.ɵɵelementEnd()()()();\n  }\n\n  if (rf & 2) {\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"diameter\", 80);\n  }\n}\n\nconst _c0 = function (a0, a1) {\n  return {\n    \"max-bid\": a0,\n    \"ineligible_bid\": a1\n  };\n};\n\nfunction TerminalNominationProgressComponent_div_19_div_4_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 17);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const bid_r8 = ctx.$implicit;\n    i0.ɵɵproperty(\"ngClass\", i0.ɵɵpureFunction2(3, _c0, bid_r8.is_max_bid, !bid_r8.bid_eligible));\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate2(\" \", bid_r8.draft_manager_name, \": \\u00A3\", bid_r8.bid_amount, \"m \");\n  }\n}\n\nfunction TerminalNominationProgressComponent_div_19_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 15)(1, \"div\")(2, \"b\");\n    i0.ɵɵtext(3, \"BIDS RECEIVED\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵtemplate(4, TerminalNominationProgressComponent_div_19_div_4_Template, 2, 6, \"div\", 16);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r3 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r3.currentPick.sealed_bids);\n  }\n}\n\nfunction TerminalNominationProgressComponent_mat_divider_20_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"mat-divider\", 7);\n  }\n\n  if (rf & 2) {\n    i0.ɵɵproperty(\"vertical\", true);\n  }\n}\n\nfunction TerminalNominationProgressComponent_div_21_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 8)(1, \"div\", 9)(2, \"div\", 10);\n    i0.ɵɵelement(3, \"mat-spinner\", 13);\n    i0.ɵɵelementStart(4, \"span\", 14);\n    i0.ɵɵtext(5, \"warning_amber\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(6, \"div\", 18)(7, \"div\");\n    i0.ɵɵtext(8, \"FINAL CHANCE!\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(9, \"div\");\n    i0.ɵɵtext(10);\n    i0.ɵɵelementEnd()()()();\n  }\n\n  if (rf & 2) {\n    const ctx_r9 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"diameter\", 80);\n    i0.ɵɵadvance(7);\n    i0.ɵɵtextInterpolate4(\"\", ctx_r9.draft.draft_manager.team_name, \" have final refusal on \", ctx_r9.currentPick.player.first_name, \" \", ctx_r9.currentPick.player.web_name, \" for \\u00A3\", ctx_r9.getMaxBidAmount(ctx_r9.currentPick), \"m\");\n  }\n}\n\nfunction TerminalNominationProgressComponent_div_21_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 15);\n    i0.ɵɵtemplate(1, TerminalNominationProgressComponent_div_21_div_1_Template, 11, 5, \"div\", 5);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r5 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r5.draft.status_id == 10);\n  }\n}\n\nfunction TerminalNominationProgressComponent_div_22_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 15)(1, \"div\", 8)(2, \"div\", 19);\n    i0.ɵɵelement(3, \"img\", 20);\n    i0.ɵɵelementStart(4, \"span\");\n    i0.ɵɵtext(5);\n    i0.ɵɵpipe(6, \"uppercase\");\n    i0.ɵɵpipe(7, \"uppercase\");\n    i0.ɵɵelementEnd()()()();\n  }\n\n  if (rf & 2) {\n    const ctx_r6 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(3);\n    i0.ɵɵpropertyInterpolate(\"src\", ctx_r6.signingManager.team_image_url, i0.ɵɵsanitizeUrl);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate3(\"SIGN \", i0.ɵɵpipeBind1(6, 4, ctx_r6.currentPick.player.first_name[0]), \". \", i0.ɵɵpipeBind1(7, 6, ctx_r6.currentPick.player.web_name), \" FOR \\u00A3\", ctx_r6.getMaxBidAmount(ctx_r6.currentPick), \"M\");\n  }\n}\n\nexport let TerminalNominationProgressComponent = /*#__PURE__*/(() => {\n  class TerminalNominationProgressComponent {\n    constructor(draftControllerService) {\n      this.draftControllerService = draftControllerService;\n      this.timer = 10;\n      this.bidsAudio = new Audio('../../assets/place_bids.wav');\n      this.bidsReceivedAudio = new Audio('../../assets/bloodyhell.mp3');\n    }\n\n    ngOnInit() {\n      this.draftControllerService.startSealedBidsTimer.subscribe(() => {\n        this.startTimer();\n      });\n      this.draftControllerService.stopSealedBidsTimer.subscribe(() => {\n        this.stopTimer();\n      });\n    }\n\n    getMaxBid(dmp) {\n      return this.draftControllerService.getMaxBid(dmp);\n    }\n\n    getMaxBidAmount(dmp) {\n      return this.draftControllerService.getMaxBidAmount(dmp);\n    }\n\n    startTimer() {\n      this.stopTimer();\n      this.timer = 10;\n      this.timeout = setInterval(() => {\n        if (this.timer > 0) {\n          this.timer--;\n        } else {\n          this.timerElapsed();\n        }\n      }, 1000);\n    }\n\n    timerElapsed() {\n      this.draftControllerService.setDraftStatus(DraftStatuses.CheckingBids);\n      this.stopTimer();\n    }\n\n    stopTimer() {\n      this.bidsAudio.pause();\n      this.bidsAudio.currentTime = 0;\n      clearInterval(this.timeout);\n    }\n\n  }\n\n  TerminalNominationProgressComponent.ɵfac = function TerminalNominationProgressComponent_Factory(t) {\n    return new (t || TerminalNominationProgressComponent)(i0.ɵɵdirectiveInject(i1.DraftControllerService));\n  };\n\n  TerminalNominationProgressComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: TerminalNominationProgressComponent,\n    selectors: [[\"app-terminal-nomination-progress\"]],\n    inputs: {\n      draft: \"draft\",\n      currentPick: \"currentPick\",\n      signingManager: \"signingManager\"\n    },\n    decls: 23,\n    vars: 21,\n    consts: [[1, \"nomination-container\"], [1, \"nomination-item\", \"horizontal\", \"relative\", 2, \"position\", \"relative\"], [1, \"player-image\", 3, \"src\"], [1, \"overlay-text-bottom\"], [\"class\", \"terminal-link\", 3, \"vertical\", 4, \"ngIf\"], [\"class\", \"terminal-update\", 4, \"ngIf\"], [\"class\", \"nomination-item\", 4, \"ngIf\"], [1, \"terminal-link\", 3, \"vertical\"], [1, \"terminal-update\"], [1, \"terminal-update-header\"], [1, \"terminal-timer\"], [\"color\", \"primary\", 1, \"spinner\", 3, \"diameter\", \"value\"], [1, \"timer-text\"], [\"color\", \"primary\", 1, \"spinner\", 3, \"diameter\"], [1, \"status-desc\", \"status-icon\", \"material-icons\", \"timer-text\"], [1, \"nomination-item\"], [\"class\", \"bid\", 3, \"ngClass\", 4, \"ngFor\", \"ngForOf\"], [1, \"bid\", 3, \"ngClass\"], [1, \"terminal-update-heading\"], [2, \"display\", \"flex\", \"text-align\", \"center\", \"flex-direction\", \"column\", \"justify-content\", \"center\"], [3, \"src\"]],\n    template: function TerminalNominationProgressComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"div\", 0)(1, \"div\", 1)(2, \"div\")(3, \"div\");\n        i0.ɵɵtext(4);\n        i0.ɵɵpipe(5, \"uppercase\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(6, \"div\");\n        i0.ɵɵtext(7);\n        i0.ɵɵpipe(8, \"uppercase\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(9, \"div\");\n        i0.ɵɵtext(10);\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelement(11, \"img\", 2);\n        i0.ɵɵelementStart(12, \"div\", 3);\n        i0.ɵɵtext(13);\n        i0.ɵɵpipe(14, \"uppercase\");\n        i0.ɵɵpipe(15, \"uppercase\");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵtemplate(16, TerminalNominationProgressComponent_mat_divider_16_Template, 1, 1, \"mat-divider\", 4);\n        i0.ɵɵtemplate(17, TerminalNominationProgressComponent_div_17_Template, 6, 3, \"div\", 5);\n        i0.ɵɵtemplate(18, TerminalNominationProgressComponent_div_18_Template, 6, 1, \"div\", 5);\n        i0.ɵɵtemplate(19, TerminalNominationProgressComponent_div_19_Template, 5, 1, \"div\", 6);\n        i0.ɵɵtemplate(20, TerminalNominationProgressComponent_mat_divider_20_Template, 1, 1, \"mat-divider\", 4);\n        i0.ɵɵtemplate(21, TerminalNominationProgressComponent_div_21_Template, 2, 1, \"div\", 6);\n        i0.ɵɵtemplate(22, TerminalNominationProgressComponent_div_22_Template, 8, 8, \"div\", 6);\n        i0.ɵɵelementEnd();\n      }\n\n      if (rf & 2) {\n        i0.ɵɵadvance(4);\n        i0.ɵɵtextInterpolate(i0.ɵɵpipeBind1(5, 13, ctx.currentPick.player.club.name));\n        i0.ɵɵadvance(3);\n        i0.ɵɵtextInterpolate(i0.ɵɵpipeBind1(8, 15, ctx.currentPick.player.position.singular_name));\n        i0.ɵɵadvance(3);\n        i0.ɵɵtextInterpolate1(\"\\u00A3\", ctx.currentPick.player.now_cost / 10, \"M\");\n        i0.ɵɵadvance(1);\n        i0.ɵɵpropertyInterpolate(\"src\", ctx.currentPick.player.photo_url, i0.ɵɵsanitizeUrl);\n        i0.ɵɵadvance(2);\n        i0.ɵɵtextInterpolate2(\"\", i0.ɵɵpipeBind1(14, 17, ctx.currentPick.player.first_name[0]), \". \", i0.ɵɵpipeBind1(15, 19, ctx.currentPick.player.web_name), \"\");\n        i0.ɵɵadvance(3);\n        i0.ɵɵproperty(\"ngIf\", ctx.draft.status_id >= 4);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", ctx.draft.status_id == 7);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", ctx.draft.status_id == 8);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", ctx.draft.status_id >= 9 && (ctx.currentPick == null ? null : ctx.currentPick.sealed_bids == null ? null : ctx.currentPick.sealed_bids.length) > 0);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", ctx.draft.status_id >= 10);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", ctx.draft.status_id == 10);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", ctx.draft.status_id == 11 && ctx.signingManager && ctx.currentPick);\n      }\n    },\n    dependencies: [i2.NgClass, i2.NgForOf, i2.NgIf, i3.MatDivider, i4.MatProgressSpinner, i2.UpperCasePipe],\n    styles: [\".hidden[_ngcontent-%COMP%]{display:none}.terminal-container[_ngcontent-%COMP%]{background:#17252A;width:100%;height:100%;position:absolute;left:0;top:0;border-color:#fff;border-style:solid;display:flex;flex-direction:column}.terminal-container[_ngcontent-%COMP%]   .round-number[_ngcontent-%COMP%]{text-align:center;font-size:x-large;border-bottom:3px solid #c2185b;padding:8px;margin-top:8px;margin-bottom:16px}.terminal-container[_ngcontent-%COMP%]   .terminal-top[_ngcontent-%COMP%]{flex-grow:1;display:flex;flex-direction:row}.terminal-container[_ngcontent-%COMP%]   .terminal-top[_ngcontent-%COMP%]   .terminal-left-sidebar[_ngcontent-%COMP%]{display:flex;flex-direction:column;min-width:300px;margin:32px 32px 0}.terminal-container[_ngcontent-%COMP%]   .terminal-top[_ngcontent-%COMP%]   .terminal-left-sidebar[_ngcontent-%COMP%]   .round-info[_ngcontent-%COMP%]{display:flex;flex-direction:column}.terminal-container[_ngcontent-%COMP%]   .terminal-top[_ngcontent-%COMP%]   .terminal-left-sidebar[_ngcontent-%COMP%]   .round-info[_ngcontent-%COMP%]   .round-picks[_ngcontent-%COMP%]{display:flex;flex-direction:column;flex-wrap:wrap}.terminal-container[_ngcontent-%COMP%]   .terminal-top[_ngcontent-%COMP%]   .terminal-top-main[_ngcontent-%COMP%]{flex-grow:1;margin:32px;display:flex;align-items:flex-start}.terminal-container[_ngcontent-%COMP%]   .terminal-top[_ngcontent-%COMP%]   .terminal-top-main[_ngcontent-%COMP%]   .terminal-main-content[_ngcontent-%COMP%]{display:flex}.terminal-container[_ngcontent-%COMP%]   .terminal-top[_ngcontent-%COMP%]   .terminal-top-main[_ngcontent-%COMP%]   .terminal-main-content[_ngcontent-%COMP%]   .terminal-update[_ngcontent-%COMP%]{display:flex;align-self:start}.terminal-container[_ngcontent-%COMP%]   .terminal-top[_ngcontent-%COMP%]   .terminal-top-main[_ngcontent-%COMP%]   .terminal-main-content[_ngcontent-%COMP%]   .terminal-update.vertical[_ngcontent-%COMP%]{flex-direction:column}.terminal-container[_ngcontent-%COMP%]   .terminal-top[_ngcontent-%COMP%]   .terminal-right-sidebar[_ngcontent-%COMP%]{display:flex;flex-direction:column;min-width:420px;margin:32px;padding:32px;border:6px solid #c2185b}.fill-pink[_ngcontent-%COMP%]{color:#c2185b}.terminal-update-header[_ngcontent-%COMP%]{display:flex;align-items:center}.terminal-update-header[_ngcontent-%COMP%]   .terminal-update-image[_ngcontent-%COMP%]{border:5px solid #c2185b;padding:2px}.terminal-update-header[_ngcontent-%COMP%]   .terminal-update-image[_ngcontent-%COMP%]   .span-container[_ngcontent-%COMP%]{display:flex;width:100%;height:100%;align-items:center}.terminal-update-header[_ngcontent-%COMP%]   .terminal-update-image[_ngcontent-%COMP%]   .span-container[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{width:100%;text-align:center}.terminal-update-header[_ngcontent-%COMP%]   .terminal-timer[_ngcontent-%COMP%]{margin-right:16px;justify-content:center;align-self:center;display:flex;align-items:center}.terminal-update-header[_ngcontent-%COMP%]   .terminal-timer[_ngcontent-%COMP%]   .spinner[_ngcontent-%COMP%]{position:relative}.terminal-update-header[_ngcontent-%COMP%]   .terminal-timer[_ngcontent-%COMP%]   .timer-text[_ngcontent-%COMP%]{position:absolute;text-align:center}.terminal-link[_ngcontent-%COMP%]{height:24px;width:42px;border-right:5px solid #c2185b!important}.terminal-link-horizontal[_ngcontent-%COMP%]{width:60px;border-top:5px solid #c2185b!important;align-self:center}.nomination-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center}.nomination-container[_ngcontent-%COMP%]   .nomination-item[_ngcontent-%COMP%]{border:5px solid #c2185b;padding:8px;display:flex;flex-direction:column;width:100%}.nomination-container[_ngcontent-%COMP%]   .nomination-item.horizontal[_ngcontent-%COMP%]{flex-direction:row}.nomination-container[_ngcontent-%COMP%]   .nomination-item.relative[_ngcontent-%COMP%]{position:relative}.nomination-container[_ngcontent-%COMP%]   .nomination-item[_ngcontent-%COMP%]   .player-image[_ngcontent-%COMP%]{height:200px}.nomination-container[_ngcontent-%COMP%]   .nomination-item[_ngcontent-%COMP%]   .overlay-text-bottom[_ngcontent-%COMP%]{position:absolute;background-color:#c2185b;border:solid #17252A 3px;padding:8px;bottom:8px;width:calc(100% - 16px);text-align:center}.mat-divider-vertical[_ngcontent-%COMP%]{width:auto}.terminal-timer[_ngcontent-%COMP%]{margin-right:0!important}\"],\n    data: {\n      animation: [trigger('flyInOut', [state('in', style({\n        transform: 'translateX(0)'\n      })), transition('void => *', [style({\n        transform: 'translateX(-100%)'\n      }), animate(100)]), transition('* => void', [animate(100, style({\n        transform: 'translateX(100%)'\n      }))])]), trigger('fadeInOut', [transition(':enter', [style({\n        opacity: 0\n      }), animate(500, style({\n        opacity: 1\n      }))]), transition(':leave', [animate(0, style({\n        opacity: 0\n      }))])])]\n    }\n  });\n  return TerminalNominationProgressComponent;\n})();","map":null,"metadata":{},"sourceType":"module"}