{"ast":null,"code":"import { Player, Club } from \"./fpl\";\nexport var DraftStatuses = /*#__PURE__*/(() => {\n  (function (DraftStatuses) {\n    DraftStatuses[DraftStatuses[\"NotStarted\"] = 1] = \"NotStarted\";\n    DraftStatuses[DraftStatuses[\"Waiting\"] = 2] = \"Waiting\";\n    DraftStatuses[DraftStatuses[\"PreDraft\"] = 3] = \"PreDraft\";\n    DraftStatuses[DraftStatuses[\"Drafting\"] = 4] = \"Drafting\";\n    DraftStatuses[DraftStatuses[\"DraftingComplete\"] = 5] = \"DraftingComplete\";\n    DraftStatuses[DraftStatuses[\"Timeout\"] = 6] = \"Timeout\";\n    DraftStatuses[DraftStatuses[\"SealedBids\"] = 7] = \"SealedBids\";\n    DraftStatuses[DraftStatuses[\"CheckingBids\"] = 8] = \"CheckingBids\";\n    DraftStatuses[DraftStatuses[\"BidsReceived\"] = 9] = \"BidsReceived\";\n    DraftStatuses[DraftStatuses[\"FinalChance\"] = 10] = \"FinalChance\";\n    DraftStatuses[DraftStatuses[\"SigningComplete\"] = 11] = \"SigningComplete\";\n    DraftStatuses[DraftStatuses[\"SigningFailed\"] = 12] = \"SigningFailed\";\n  })(DraftStatuses || (DraftStatuses = {}));\n\n  return DraftStatuses;\n})();\nexport class Draft {}\nexport class DraftManager {}\nexport class DraftManagerPick {}\nexport class SealedBid {\n  constructor() {\n    this.bid_eligible = true;\n    this.is_max_bid = false;\n  }\n\n}\nexport class DraftManagerFavourite {}\nexport class DraftSquad {}\nexport class SquadTicker {\n  constructor() {\n    this.ticker_direction = false;\n  }\n\n}\nexport class RoundPicks {}\nexport class FancastSquadTicker {\n  constructor() {\n    this.ticker_direction = false;\n  }\n\n}\nexport class DraftFunctions {\n  static getBasicDraftObject(draft) {\n    var basicDraft = new Draft();\n    basicDraft.id = draft.id;\n    basicDraft.direction = draft.direction;\n    basicDraft.draft_manager_id = draft.draft_manager_id;\n    basicDraft.draft_name = draft.draft_name;\n    basicDraft.passcode = draft.passcode;\n    basicDraft.status_id = draft.status_id;\n    basicDraft.draft_round = draft.draft_round;\n    var basicManager = new DraftManager();\n    basicManager.id = draft.draft_manager.id;\n    basicManager.draft_id = draft.id;\n    basicManager.draft_seed = draft.draft_manager.draft_seed;\n    basicManager.name = draft.draft_manager.name;\n    basicManager.team_name = draft.draft_manager.team_name;\n    basicManager.team_nickname = draft.draft_manager.team_nickname;\n    basicManager.team_image_url = draft.draft_manager.team_image_url;\n    basicManager.manager_image_url = draft.draft_manager.manager_image_url;\n    basicManager.team_colour_1 = draft.draft_manager.team_colour_1;\n    basicManager.team_colour_2 = draft.draft_manager.team_colour_2;\n    basicManager.team_fpl_id = draft.draft_manager.team_fpl_id;\n    basicDraft.draft_manager = basicManager;\n    basicDraft.draft_managers = [];\n    draft.draft_managers.forEach(dm => {\n      basicDraft.draft_managers.push(dm);\n    });\n    basicDraft.draft_manager_picks = [];\n    basicDraft.draft_manager.draft_manager_picks = [];\n    draft.draft_manager_picks.forEach(dmp => {\n      basicDraft.draft_manager_picks.push(this.getBasicDraftManagerPickObject(dmp, false));\n\n      if (dmp.draft_manager_id == draft.draft_manager.id) {\n        basicDraft.draft_manager.draft_manager_picks.push(this.getBasicDraftManagerPickObject(dmp, false));\n      }\n    });\n\n    if (draft.draft_manager.draft_squad) {\n      basicDraft.draft_manager.draft_squad = draft.draft_manager.draft_squad;\n    } else {\n      basicDraft.draft_manager.draft_squad = this.getDraftSquadForManager(basicDraft.draft_manager);\n    }\n\n    return basicDraft;\n  }\n\n  static getBasicDraftManagerPickObject(pick, includeManager = true) {\n    var _a;\n\n    var basicClub = new Club();\n    basicClub.id = pick.player.club.id;\n    basicClub.code = pick.player.club.code;\n    basicClub.name = pick.player.club.name;\n    basicClub.badge_url = pick.player.club.badge_url;\n    var basicPlayer = new Player();\n    basicPlayer.id = pick.player_id;\n    basicPlayer.name = pick.player.name;\n    basicPlayer.first_name = pick.player.first_name;\n    basicPlayer.web_name = pick.player.web_name;\n    basicPlayer.position = pick.player.position;\n    basicPlayer.club = pick.player.club;\n    basicPlayer.photo_url = pick.player.photo_url;\n    basicPlayer.now_cost = pick.player.now_cost;\n    basicPlayer.photo_url = pick.player.photo_url;\n    basicPlayer.code = pick.player.code;\n    var basicPick = new DraftManagerPick();\n    basicPick.id = pick.id;\n    basicPick.player_id = pick.player_id;\n    basicPick.pick_order = pick.pick_order;\n    basicPick.draft_manager_id = pick.draft_manager_id;\n    basicPick.nominator_id = pick.nominator_id;\n    basicPick.player = basicPlayer;\n    basicPick.player.club = basicClub;\n    basicPick.draft_id = pick.draft_id;\n    basicPick.value_price = pick.value_price;\n    basicPick.signed_price = pick.signed_price;\n    basicPick.sealed_bids = [];\n    (_a = pick.sealed_bids) === null || _a === void 0 ? void 0 : _a.forEach(sb => {\n      basicPick.sealed_bids.push(this.getBasicSealedBidsObject(sb));\n    });\n    return basicPick;\n  }\n\n  static getBasicSealedBidsObject(sealedBid) {\n    var basicSealedBid = new SealedBid();\n    basicSealedBid.draft_manager_id = sealedBid.draft_manager_id;\n    basicSealedBid.draft_manager_name = sealedBid.draft_manager_name;\n    basicSealedBid.player_id = sealedBid.player_id;\n    basicSealedBid.player_name = sealedBid.player_name;\n    basicSealedBid.bid_amount = sealedBid.bid_amount;\n    basicSealedBid.bid_eligible = sealedBid.bid_eligible;\n    return basicSealedBid;\n  }\n\n  static getDraftPicksForManager(manager, draft, fplBase) {\n    var _a, _b;\n\n    if (manager && draft.draft_manager_picks) {\n      manager.draft_manager_picks = (_b = (_a = draft.draft_manager_picks) === null || _a === void 0 ? void 0 : _a.filter(dmp => dmp.draft_manager_id == manager.id)) !== null && _b !== void 0 ? _b : [];\n      manager.draft_manager_picks.forEach(dmp => {\n        fplBase.elements.filter(e => e.id == dmp.player_id).forEach(e => {\n          e.draft_manager_id = manager.id; //e.draft_manager = manager;\n\n          dmp.player = e;\n        });\n      });\n      return manager.draft_manager_picks;\n    }\n\n    return undefined;\n  }\n\n  static getDraftSquadForManager(manager) {\n    var _a, _b, _c, _d, _e, _f, _g, _h, _j, _k, _l, _m, _o, _p, _q;\n\n    var squad = new DraftSquad();\n\n    if (manager.draft_manager_picks) {\n      squad.gk_1 = (_a = manager.draft_manager_picks.filter(pick => pick.player.position.id == 1)[0]) !== null && _a !== void 0 ? _a : undefined;\n      squad.gk_2 = (_b = manager.draft_manager_picks.filter(pick => pick.player.position.id == 1)[1]) !== null && _b !== void 0 ? _b : undefined;\n      squad.def_1 = (_c = manager.draft_manager_picks.filter(pick => pick.player.position.id == 2)[0]) !== null && _c !== void 0 ? _c : undefined;\n      squad.def_2 = (_d = manager.draft_manager_picks.filter(pick => pick.player.position.id == 2)[1]) !== null && _d !== void 0 ? _d : undefined;\n      squad.def_3 = (_e = manager.draft_manager_picks.filter(pick => pick.player.position.id == 2)[2]) !== null && _e !== void 0 ? _e : undefined;\n      squad.def_4 = (_f = manager.draft_manager_picks.filter(pick => pick.player.position.id == 2)[3]) !== null && _f !== void 0 ? _f : undefined;\n      squad.def_5 = (_g = manager.draft_manager_picks.filter(pick => pick.player.position.id == 2)[4]) !== null && _g !== void 0 ? _g : undefined;\n      squad.mid_1 = (_h = manager.draft_manager_picks.filter(pick => pick.player.position.id == 3)[0]) !== null && _h !== void 0 ? _h : undefined;\n      squad.mid_2 = (_j = manager.draft_manager_picks.filter(pick => pick.player.position.id == 3)[1]) !== null && _j !== void 0 ? _j : undefined;\n      squad.mid_3 = (_k = manager.draft_manager_picks.filter(pick => pick.player.position.id == 3)[2]) !== null && _k !== void 0 ? _k : undefined;\n      squad.mid_4 = (_l = manager.draft_manager_picks.filter(pick => pick.player.position.id == 3)[3]) !== null && _l !== void 0 ? _l : undefined;\n      squad.mid_5 = (_m = manager.draft_manager_picks.filter(pick => pick.player.position.id == 3)[4]) !== null && _m !== void 0 ? _m : undefined;\n      squad.fw_1 = (_o = manager.draft_manager_picks.filter(pick => pick.player.position.id == 4)[0]) !== null && _o !== void 0 ? _o : undefined;\n      squad.fw_2 = (_p = manager.draft_manager_picks.filter(pick => pick.player.position.id == 4)[1]) !== null && _p !== void 0 ? _p : undefined;\n      squad.fw_3 = (_q = manager.draft_manager_picks.filter(pick => pick.player.position.id == 4)[2]) !== null && _q !== void 0 ? _q : undefined;\n      squad.num_of_picks = manager.draft_manager_picks.length;\n      squad.budget_spent = manager.draft_manager_picks.reduce((sum, current) => sum + current.signed_price, 0);\n      squad.budget_remaining = 100 - squad.budget_spent;\n      squad.budget_per_player = squad.budget_remaining / (15 - squad.num_of_picks);\n    } else {\n      squad.num_of_picks = 0;\n      squad.budget_spent = 0;\n      squad.budget_remaining = 100;\n      squad.budget_per_player = 100 / 15;\n    }\n\n    return squad;\n  }\n\n  static setPlayerOwner(player, draftManager) {\n    player.draft_manager_id = draftManager.id;\n    player.draft_manager = draftManager;\n  }\n\n  static convertStatusToString(status) {\n    switch (status) {\n      case 1:\n        return 'Not started';\n\n      case 2:\n        return 'Waiting';\n\n      case 3:\n        return 'Pre-draft';\n\n      case 4:\n        return 'Drafting';\n\n      case 5:\n        return 'Drafting complete';\n\n      case 6:\n        return 'TIMEOUT';\n\n      case 7:\n        return 'Sealed bids';\n\n      case 8:\n        return 'Checking bids';\n\n      case 9:\n        return 'Bids received';\n\n      case 10:\n        return 'Final chance';\n\n      case 11:\n        return 'Signing complete';\n\n      case 12:\n        return 'Signing failed';\n\n      default:\n        return 'Unknown';\n    }\n  }\n\n  static convertStatusToIcon(status) {\n    switch (status) {\n      case 1:\n        return 'play_circle_outline';\n\n      case 2:\n        return 'access_time';\n\n      case 3:\n        return 'hourglass_top';\n\n      case 4:\n        return 'shopping_cart';\n\n      case 5:\n        return 'check';\n\n      case 6:\n        return 'block';\n\n      default:\n        return 'adb';\n    }\n  }\n\n}","map":null,"metadata":{},"sourceType":"module"}