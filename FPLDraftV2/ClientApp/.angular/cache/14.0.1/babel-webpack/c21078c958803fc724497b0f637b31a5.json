{"ast":null,"code":"import { trigger, transition, style, animate, state } from '@angular/animations';\nimport { Draft } from '../../../models/draft';\nimport { DraftControllerService } from '../../../draft/services/draft-controller.service';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../../../draft/services/draft-controller.service\";\nimport * as i2 from \"@angular/common\";\nimport * as i3 from \"@angular/material/divider\";\nimport * as i4 from \"@angular/material/progress-spinner\";\n\nfunction TerminalDraftingProgressComponent_span_3_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\", 7);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(ctx_r0.draft.status_id == 2 ? \"person\" : \"done\");\n  }\n}\n\nfunction TerminalDraftingProgressComponent_mat_divider_7_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"mat-divider\", 8);\n  }\n\n  if (rf & 2) {\n    i0.ɵɵproperty(\"vertical\", true);\n  }\n}\n\nfunction TerminalDraftingProgressComponent_div_8_div_4_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 12);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r3 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(ctx_r3.timer);\n  }\n}\n\nfunction TerminalDraftingProgressComponent_div_8_span_5_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\", 7);\n    i0.ɵɵtext(1, \"done\");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction TerminalDraftingProgressComponent_div_8_span_6_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\", 7);\n    i0.ɵɵtext(1, \"timer\");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction TerminalDraftingProgressComponent_div_8_mat_divider_10_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"mat-divider\", 13);\n  }\n}\n\nfunction TerminalDraftingProgressComponent_div_8_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 9)(1, \"div\", 0)(2, \"div\", 1);\n    i0.ɵɵelement(3, \"mat-progress-spinner\", 2);\n    i0.ɵɵtemplate(4, TerminalDraftingProgressComponent_div_8_div_4_Template, 2, 1, \"div\", 10);\n    i0.ɵɵtemplate(5, TerminalDraftingProgressComponent_div_8_span_5_Template, 2, 0, \"span\", 3);\n    i0.ɵɵtemplate(6, TerminalDraftingProgressComponent_div_8_span_6_Template, 2, 0, \"span\", 3);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"div\", 4)(8, \"div\");\n    i0.ɵɵtext(9);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵtemplate(10, TerminalDraftingProgressComponent_div_8_mat_divider_10_Template, 1, 0, \"mat-divider\", 11);\n    i0.ɵɵelementEnd()();\n  }\n\n  if (rf & 2) {\n    const ctx_r2 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"diameter\", 80)(\"value\", ctx_r2.draft.status_id == 4 ? ctx_r2.timer / 30 * 100 : 100);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r2.draft.status_id == 4);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r2.draft.status_id > 4 && ctx_r2.draft.status_id != 6);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r2.draft.status_id == 6);\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(ctx_r2.draft.status_id == 4 ? \"Now nominating...\" : ctx_r2.draft.status_id == 6 ? \"Timeout\" : \"Nomination successful\");\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r2.draft.status_id >= 7);\n  }\n}\n\nexport let TerminalDraftingProgressComponent = /*#__PURE__*/(() => {\n  class TerminalDraftingProgressComponent {\n    constructor(draftControllerService) {\n      this.draftControllerService = draftControllerService;\n      this.timer = 30;\n      this.draftingAudio = new Audio('../../assets/kp_lang_music.wav');\n    }\n\n    ngOnInit() {\n      this.draftControllerService.startDraftTimer.subscribe(() => {\n        this.startTimer();\n      });\n      this.draftControllerService.stopDraftTimer.subscribe(() => {\n        this.stopTimer();\n      });\n    }\n\n    startTimer() {\n      this.stopTimer();\n      this.timer = 30;\n      this.draftingAudio.currentTime = 0;\n      this.draftingAudio.muted = true;\n      this.draftingAudio.muted = false;\n      var playPromise = this.draftingAudio.play();\n\n      if (playPromise !== undefined) {\n        playPromise.then(_ => {}).catch(error => {});\n      }\n\n      setTimeout(() => {\n        this.timeout = setInterval(() => {\n          if (this.timer > 0) {\n            this.timer--;\n          } else {\n            this.timeElapsed();\n          }\n        }, 1000);\n      }, 3000);\n    }\n\n    timeElapsed() {\n      this.stopTimer();\n    }\n\n    stopTimer() {\n      this.draftingAudio.pause();\n      this.draftingAudio.currentTime = 0;\n      clearInterval(this.timeout);\n    }\n\n  }\n\n  TerminalDraftingProgressComponent.ɵfac = function TerminalDraftingProgressComponent_Factory(t) {\n    return new (t || TerminalDraftingProgressComponent)(i0.ɵɵdirectiveInject(i1.DraftControllerService));\n  };\n\n  TerminalDraftingProgressComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: TerminalDraftingProgressComponent,\n    selectors: [[\"app-terminal-drafting-progress\"]],\n    inputs: {\n      draft: \"draft\"\n    },\n    decls: 9,\n    vars: 6,\n    consts: [[1, \"terminal-update-header\"], [1, \"terminal-timer\"], [\"color\", \"primary\", 1, \"spinner\", 3, \"diameter\", \"value\"], [\"class\", \"status-desc status-icon material-icons timer-text\", 4, \"ngIf\"], [1, \"terminal-update-heading\"], [\"class\", \"terminal-link\", 3, \"vertical\", 4, \"ngIf\"], [\"class\", \"terminal-update\", 4, \"ngIf\"], [1, \"status-desc\", \"status-icon\", \"material-icons\", \"timer-text\"], [1, \"terminal-link\", 3, \"vertical\"], [1, \"terminal-update\"], [\"class\", \"timer-text\", 4, \"ngIf\"], [\"class\", \"terminal-link-horizontal\", 4, \"ngIf\"], [1, \"timer-text\"], [1, \"terminal-link-horizontal\"]],\n    template: function TerminalDraftingProgressComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"div\", 0)(1, \"div\", 1);\n        i0.ɵɵelement(2, \"mat-progress-spinner\", 2);\n        i0.ɵɵtemplate(3, TerminalDraftingProgressComponent_span_3_Template, 2, 1, \"span\", 3);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(4, \"div\", 4)(5, \"div\");\n        i0.ɵɵtext(6);\n        i0.ɵɵelementEnd()()();\n        i0.ɵɵtemplate(7, TerminalDraftingProgressComponent_mat_divider_7_Template, 1, 1, \"mat-divider\", 5);\n        i0.ɵɵtemplate(8, TerminalDraftingProgressComponent_div_8_Template, 11, 7, \"div\", 6);\n      }\n\n      if (rf & 2) {\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"diameter\", 80)(\"value\", 100);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", ctx.draft.status_id >= 2);\n        i0.ɵɵadvance(3);\n        i0.ɵɵtextInterpolate(ctx.draft.status_id == 2 ? \"Waiting for player\" : \"Signed in\");\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", ctx.draft.status_id >= 4);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", ctx.draft.status_id >= 4);\n      }\n    },\n    dependencies: [i2.NgIf, i3.MatDivider, i4.MatProgressSpinner],\n    styles: [\".hidden[_ngcontent-%COMP%]{display:none}.terminal-container[_ngcontent-%COMP%]{background:#17252A;width:100%;height:100%;position:absolute;left:0;top:0;border-color:#fff;border-style:solid;display:flex;flex-direction:column}.terminal-container[_ngcontent-%COMP%]   .round-number[_ngcontent-%COMP%]{text-align:center;font-size:x-large;border-bottom:3px solid #c2185b;padding:8px;margin-top:8px;margin-bottom:16px}.terminal-container[_ngcontent-%COMP%]   .terminal-top[_ngcontent-%COMP%]{flex-grow:1;display:flex;flex-direction:row}.terminal-container[_ngcontent-%COMP%]   .terminal-top[_ngcontent-%COMP%]   .terminal-left-sidebar[_ngcontent-%COMP%]{display:flex;flex-direction:column;min-width:300px;margin:32px 32px 0}.terminal-container[_ngcontent-%COMP%]   .terminal-top[_ngcontent-%COMP%]   .terminal-left-sidebar[_ngcontent-%COMP%]   .round-info[_ngcontent-%COMP%]{display:flex;flex-direction:column}.terminal-container[_ngcontent-%COMP%]   .terminal-top[_ngcontent-%COMP%]   .terminal-left-sidebar[_ngcontent-%COMP%]   .round-info[_ngcontent-%COMP%]   .round-picks[_ngcontent-%COMP%]{display:flex;flex-direction:column;flex-wrap:wrap}.terminal-container[_ngcontent-%COMP%]   .terminal-top[_ngcontent-%COMP%]   .terminal-top-main[_ngcontent-%COMP%]{flex-grow:1;margin:32px;display:flex;align-items:flex-start}.terminal-container[_ngcontent-%COMP%]   .terminal-top[_ngcontent-%COMP%]   .terminal-top-main[_ngcontent-%COMP%]   .terminal-main-content[_ngcontent-%COMP%]{display:flex}.terminal-container[_ngcontent-%COMP%]   .terminal-top[_ngcontent-%COMP%]   .terminal-top-main[_ngcontent-%COMP%]   .terminal-main-content[_ngcontent-%COMP%]   .terminal-update[_ngcontent-%COMP%]{display:flex;align-self:start}.terminal-container[_ngcontent-%COMP%]   .terminal-top[_ngcontent-%COMP%]   .terminal-top-main[_ngcontent-%COMP%]   .terminal-main-content[_ngcontent-%COMP%]   .terminal-update.vertical[_ngcontent-%COMP%]{flex-direction:column}.terminal-container[_ngcontent-%COMP%]   .terminal-top[_ngcontent-%COMP%]   .terminal-right-sidebar[_ngcontent-%COMP%]{display:flex;flex-direction:column;min-width:420px;margin:32px;padding:32px;border:6px solid #c2185b}.fill-pink[_ngcontent-%COMP%]{color:#c2185b}.terminal-update-header[_ngcontent-%COMP%]{display:flex;align-items:center}.terminal-update-header[_ngcontent-%COMP%]   .terminal-update-image[_ngcontent-%COMP%]{border:5px solid #c2185b;padding:2px}.terminal-update-header[_ngcontent-%COMP%]   .terminal-update-image[_ngcontent-%COMP%]   .span-container[_ngcontent-%COMP%]{display:flex;width:100%;height:100%;align-items:center}.terminal-update-header[_ngcontent-%COMP%]   .terminal-update-image[_ngcontent-%COMP%]   .span-container[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{width:100%;text-align:center}.terminal-update-header[_ngcontent-%COMP%]   .terminal-timer[_ngcontent-%COMP%]{margin-right:16px;justify-content:center;align-self:center;display:flex;align-items:center}.terminal-update-header[_ngcontent-%COMP%]   .terminal-timer[_ngcontent-%COMP%]   .spinner[_ngcontent-%COMP%]{position:relative}.terminal-update-header[_ngcontent-%COMP%]   .terminal-timer[_ngcontent-%COMP%]   .timer-text[_ngcontent-%COMP%]{position:absolute;text-align:center}.terminal-link[_ngcontent-%COMP%]{height:24px;width:42px;border-right:5px solid #c2185b!important}.terminal-link-horizontal[_ngcontent-%COMP%]{width:60px;border-top:5px solid #c2185b!important;align-self:center}.terminal-update-heading[_ngcontent-%COMP%]{margin-right:8px}\"],\n    data: {\n      animation: [trigger('flyInOut', [state('in', style({\n        transform: 'translateX(0)'\n      })), transition('void => *', [style({\n        transform: 'translateX(-100%)'\n      }), animate(100)]), transition('* => void', [animate(100, style({\n        transform: 'translateX(100%)'\n      }))])]), trigger('fadeInOut', [transition(':enter', [style({\n        opacity: 0\n      }), animate(500, style({\n        opacity: 1\n      }))]), transition(':leave', [animate(0, style({\n        opacity: 0\n      }))])])]\n    }\n  });\n  return TerminalDraftingProgressComponent;\n})();","map":null,"metadata":{},"sourceType":"module"}